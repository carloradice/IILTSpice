Version 4
SHEET 1 6160 2280
WIRE 1440 -256 1328 -256
WIRE 1184 -208 1136 -208
WIRE 1440 -208 1440 -256
WIRE 1520 -208 1440 -208
WIRE 2592 -176 2464 -176
WIRE 48 -112 -32 -112
WIRE 592 -112 512 -112
WIRE -32 -80 -32 -112
WIRE -32 -80 -48 -80
WIRE 512 -80 512 -112
WIRE 512 -80 496 -80
WIRE 2560 -48 2464 -48
WIRE 2592 -16 2592 -176
WIRE 2640 -16 2592 -16
WIRE 2560 0 2560 -48
WIRE 2640 0 2560 0
WIRE 2640 32 2560 32
WIRE 2640 48 2592 48
WIRE 2560 80 2560 32
WIRE 2560 80 2464 80
WIRE 2592 256 2592 48
WIRE 2592 256 2464 256
WIRE 48 384 -32 384
WIRE 592 384 512 384
WIRE -32 416 -32 384
WIRE -32 416 -48 416
WIRE 512 416 512 384
WIRE 512 416 496 416
WIRE 2592 592 2464 592
WIRE 1408 640 1360 640
WIRE 2560 720 2464 720
WIRE 2592 752 2592 592
WIRE 2640 752 2592 752
WIRE 2560 768 2560 720
WIRE 2640 768 2560 768
WIRE 2640 800 2560 800
WIRE 2640 816 2592 816
WIRE 2560 848 2560 800
WIRE 2560 848 2464 848
WIRE 416 944 320 944
WIRE 320 992 320 944
WIRE 320 992 144 992
WIRE 2592 1024 2592 816
WIRE 2592 1024 2464 1024
WIRE 320 1040 320 992
WIRE 416 1040 320 1040
WIRE 2560 1344 2464 1344
WIRE 2560 1408 2560 1344
WIRE 2592 1408 2560 1408
WIRE 2592 1440 2560 1440
WIRE 2560 1552 2560 1440
WIRE 2560 1552 2464 1552
FLAG -912 352 0
FLAG -912 272 CLK
IOPIN -912 272 Out
FLAG 48 -64 CLK
IOPIN 48 -64 In
FLAG 592 -64 CLK
IOPIN 592 -64 In
FLAG 208 -112 A0
IOPIN 208 -112 Out
FLAG 752 -112 A1
IOPIN 752 -112 Out
FLAG 48 432 CLK
IOPIN 48 432 In
FLAG 592 432 CLK
IOPIN 592 432 In
FLAG 208 384 B0
IOPIN 208 384 Out
FLAG 752 384 B1
IOPIN 752 384 Out
FLAG 1184 -272 A0
IOPIN 1184 -272 In
FLAG 1184 -240 B0
IOPIN 1184 -240 In
FLAG 1328 -224 Y0
IOPIN 1328 -224 Out
FLAG 1664 -224 Y1
IOPIN 1664 -224 Out
FLAG 1520 -272 A1
IOPIN 1520 -272 In
FLAG 1520 -240 B1
IOPIN 1520 -240 In
FLAG 1664 -256 C
IOPIN 1664 -256 Out
FLAG 3664 464 CLK
IOPIN 3664 464 In
FLAG 4016 464 CLK
IOPIN 4016 464 In
FLAG 3664 416 R0
IOPIN 3664 416 In
FLAG 4016 416 R1
IOPIN 4016 416 In
FLAG 4368 464 CLK
IOPIN 4368 464 In
FLAG 4368 416 R2
IOPIN 4368 416 In
FLAG 128 -160 P
IOPIN 128 -160 In
FLAG 128 480 R
IOPIN 128 480 In
FLAG 672 480 R
IOPIN 672 480 In
FLAG 672 -16 R
IOPIN 672 -16 In
FLAG 128 -16 R
IOPIN 128 -16 In
FLAG -1296 352 0
FLAG -912 704 0
FLAG -912 624 RESET
IOPIN -912 624 Out
FLAG -1296 272 ENABLE
IOPIN -1296 272 Out
FLAG -1296 704 0
FLAG -1296 624 PRESET
IOPIN -1296 624 Out
FLAG 672 -160 P
IOPIN 672 -160 In
FLAG 672 336 P
IOPIN 672 336 In
FLAG 128 336 P
IOPIN 128 336 In
FLAG -1296 -192 I0
IOPIN -1296 -192 Out
FLAG -1296 -16 I2
IOPIN -1296 -16 Out
FLAG -912 -192 I1
IOPIN -912 -192 Out
FLAG -912 -16 I3
IOPIN -912 -16 Out
FLAG -1296 -112 0
FLAG -912 -112 0
FLAG -912 64 0
FLAG -1296 64 0
FLAG -160 -64 I2
IOPIN -160 -64 In
FLAG 1312 128 A0
IOPIN 1312 128 In
FLAG 1312 160 A1
IOPIN 1312 160 In
FLAG 1312 192 B0
IOPIN 1312 192 In
FLAG 1312 224 B1
IOPIN 1312 224 In
FLAG -160 -96 A0
IOPIN -160 -96 In
FLAG -96 -32 ENABLE
IOPIN -96 -32 In
FLAG 384 -64 I3
IOPIN 384 -64 In
FLAG 384 -96 A1
IOPIN 384 -96 In
FLAG 448 -32 ENABLE
IOPIN 448 -32 In
FLAG -160 432 I0
IOPIN -160 432 In
FLAG -160 400 B0
IOPIN -160 400 In
FLAG -96 464 ENABLE
IOPIN -96 464 In
FLAG 384 432 I1
IOPIN 384 432 In
FLAG 384 400 B1
IOPIN 384 400 In
FLAG 448 464 ENABLE
IOPIN 448 464 In
FLAG 3824 416 Rout0
IOPIN 3824 416 Out
FLAG 4176 416 Rout1
IOPIN 4176 416 Out
FLAG 4528 416 Rout2
IOPIN 4528 416 Out
FLAG 1504 176 VALCOMP
IOPIN 1504 176 Out
FLAG -1296 992 SEL0
IOPIN -1296 992 Out
FLAG -912 992 SEL1
IOPIN -912 992 Out
FLAG 1408 624 C
IOPIN 1408 624 In
FLAG 1472 592 VALCARRY
IOPIN 1472 592 Out
FLAG 1296 640 SEL0
IOPIN 1296 640 In
FLAG 1408 592 SEL1
IOPIN 1408 592 In
FLAG 1408 256 SEL1
IOPIN 1408 256 In
FLAG 1376 256 SEL0
IOPIN 1376 256 In
FLAG 1360 912 SEL0
IOPIN 1360 912 In
FLAG 1360 880 SEL1
IOPIN 1360 880 In
FLAG 1488 880 MOD0
IOPIN 1488 880 Out
FLAG 2400 1344 C
IOPIN 2400 1344 In
FLAG 2400 1376 VALCARRY
IOPIN 2400 1376 In
FLAG 2400 1536 Rout2
IOPIN 2400 1536 In
FLAG 2336 1552 MOD0
IOPIN 2336 1552 In
FLAG 2336 1584 VALCARRY
IOPIN 2336 1584 In
FLAG 2400 1664 VALCOMP
IOPIN 2400 1664 In
FLAG 2656 1408 R2
IOPIN 2656 1408 Out
FLAG 2400 -176 Y0
IOPIN 2400 -176 In
FLAG 2400 -48 Y0
IOPIN 2400 -48 In
FLAG 2400 80 Y0
IOPIN 2400 80 In
FLAG 2400 240 Rout0
IOPIN 2400 240 In
FLAG 2400 -144 MOD0
IOPIN 2400 -144 In
FLAG 2400 -16 VALCOMP
IOPIN 2400 -16 In
FLAG 2400 112 VALCARRY
IOPIN 2400 112 In
FLAG 2336 256 MOD0
IOPIN 2336 256 In
FLAG 2336 288 VALCOMP
IOPIN 2336 288 In
FLAG 2400 368 VALCARRY
IOPIN 2400 368 In
FLAG 2704 0 R0
IOPIN 2704 0 Out
FLAG 2400 592 Y1
IOPIN 2400 592 In
FLAG 2400 720 Y1
IOPIN 2400 720 In
FLAG 2400 848 Y1
IOPIN 2400 848 In
FLAG 2400 1008 Rout0
IOPIN 2400 1008 In
FLAG 2400 624 MOD0
IOPIN 2400 624 In
FLAG 2400 752 VALCOMP
IOPIN 2400 752 In
FLAG 2400 880 VALCARRY
IOPIN 2400 880 In
FLAG 2336 1024 MOD0
IOPIN 2336 1024 In
FLAG 2336 1056 VALCOMP
IOPIN 2336 1056 In
FLAG 2400 1136 VALCARRY
IOPIN 2400 1136 In
FLAG 2704 768 R1
IOPIN 2704 768 Out
FLAG 1360 1392 SEL0
IOPIN 1360 1392 In
FLAG 1360 1408 SEL1
IOPIN 1360 1408 In
FLAG 1360 1440 ENABLE
IOPIN 1360 1440 In
FLAG 1424 1408 FAULT<1>
IOPIN 1424 1408 Out
FLAG 80 992 PRESET
IOPIN 80 992 In
FLAG 80 1024 RESET
IOPIN 80 1024 In
FLAG 416 912 PRESET
IOPIN 416 912 In
FLAG 416 1072 RESET
IOPIN 416 1072 In
FLAG 480 912 P
IOPIN 480 912 Out
FLAG 480 1040 R
IOPIN 480 1040 Out
FLAG 1360 1552 PRESET
IOPIN 1360 1552 In
FLAG 1360 1584 RESET
IOPIN 1360 1584 In
FLAG 1424 1552 FAULT<2>
IOPIN 1424 1552 Out
FLAG -912 1072 0
FLAG -1296 1072 0
SYMBOL Digital\\dflop 128 -160 R0
WINDOW 0 24 -19 Left 2
SYMATTR InstName A0
SYMBOL Digital\\dflop 672 -160 R0
WINDOW 0 28 -16 Left 2
SYMATTR InstName A1
SYMBOL voltage -912 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 1n 1n 1n 1u 2u)
SYMBOL Digital\\dflop 128 336 R0
WINDOW 0 31 -19 Left 2
SYMATTR InstName B0
SYMBOL Digital\\dflop 672 336 R0
WINDOW 0 29 -18 Left 2
SYMATTR InstName B1
SYMBOL full_adder 1248 -240 R0
SYMATTR InstName X1
SYMBOL full_adder 1584 -240 R0
SYMATTR InstName X2
SYMBOL Digital\\dflop 3744 368 R0
SYMATTR InstName Y0
SYMATTR SpiceLine Td=2u
SYMBOL Digital\\dflop 4096 368 R0
SYMATTR InstName Y1
SYMATTR SpiceLine Td=2u
SYMBOL Digital\\dflop 4448 368 R0
SYMATTR InstName C
SYMATTR SpiceLine Td=2u
SYMBOL voltage -912 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value 0
SYMATTR InstName V2
SYMBOL voltage -1296 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL voltage -1296 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value 0
SYMATTR InstName V4
SYMBOL voltage -1296 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT0
SYMATTR Value PULSE(0 1 105u 1n 1n 5u 10u)
SYMBOL voltage -1296 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT2
SYMATTR Value PULSE(0 1 120u 1n 1n 20u 40u)
SYMBOL voltage -912 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT3
SYMATTR Value PULSE(0 1 140u 1n 1n 40u 80u)
SYMBOL voltage -912 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT1
SYMATTR Value PULSE(0 1 110u 1n 1n 10u 20u)
SYMBOL comparator 1392 208 R0
WINDOW 0 10 -120 Bottom 2
SYMATTR InstName X4
SYMBOL multiplexer_1x2 -96 -80 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X5
SYMBOL multiplexer_1x2 448 -80 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X6
SYMBOL multiplexer_1x2 -96 416 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X7
SYMBOL multiplexer_1x2 448 416 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X8
SYMBOL voltage -1296 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage -912 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL Digital\\and 1440 544 R0
WINDOW 0 -31 16 Left 2
SYMATTR InstName A2
SYMBOL Digital\\inv 1296 576 R0
WINDOW 0 12 95 Left 2
SYMATTR InstName A3
SYMBOL Digital\\inv 1360 816 R0
WINDOW 0 12 95 Left 2
SYMATTR InstName A4
SYMBOL Digital\\inv 1360 848 R0
WINDOW 0 12 95 Left 2
SYMATTR InstName A5
SYMBOL Digital\\and 1456 832 R0
SYMATTR InstName A6
SYMBOL Digital\\and 2432 1296 R0
SYMATTR InstName A7
SYMBOL Digital\\and 2432 1504 R0
SYMATTR InstName A8
SYMBOL Digital\\or 2624 1360 R0
SYMATTR InstName A9
SYMBOL Digital\\inv 2336 1488 R0
WINDOW 0 18 46 Left 2
SYMATTR InstName A10
SYMBOL Digital\\inv 2336 1520 R0
WINDOW 0 8 80 Left 2
SYMATTR InstName A11
SYMBOL Digital\\inv 2336 1664 R270
WINDOW 0 24 94 VRight 2
SYMATTR InstName A12
SYMBOL Digital\\and 2432 -224 R0
SYMATTR InstName A13
SYMBOL Digital\\and 2432 -96 R0
SYMATTR InstName A14
SYMBOL Digital\\and 2432 32 R0
SYMATTR InstName A15
SYMBOL Digital\\and 2432 208 R0
SYMATTR InstName A16
SYMBOL Digital\\or 2672 -48 R0
SYMATTR InstName A17
SYMBOL Digital\\inv 2336 192 R0
WINDOW 0 5 33 Left 2
SYMATTR InstName A18
SYMBOL Digital\\inv 2336 224 R0
WINDOW 0 13 89 Left 2
SYMATTR InstName A19
SYMBOL Digital\\inv 2336 368 R270
WINDOW 0 29 93 VRight 2
SYMATTR InstName A20
SYMBOL Digital\\and 2432 544 R0
SYMATTR InstName A21
SYMBOL Digital\\and 2432 672 R0
SYMATTR InstName A22
SYMBOL Digital\\and 2432 800 R0
SYMATTR InstName A23
SYMBOL Digital\\and 2432 976 R0
SYMATTR InstName A24
SYMBOL Digital\\or 2672 720 R0
SYMATTR InstName A25
SYMBOL Digital\\inv 2336 960 R0
WINDOW 0 5 33 Left 2
SYMATTR InstName A26
SYMBOL Digital\\inv 2336 992 R0
WINDOW 0 13 89 Left 2
SYMATTR InstName A27
SYMBOL Digital\\inv 2336 1136 R270
WINDOW 0 29 93 VRight 2
SYMATTR InstName A28
SYMBOL Digital\\and 1392 1360 R0
SYMATTR InstName A29
SYMBOL Digital\\xor 128 944 R0
SYMATTR InstName A30
SYMBOL Digital\\and 448 864 R0
SYMATTR InstName A31
SYMBOL Digital\\and 448 992 R0
SYMATTR InstName A32
SYMBOL Digital\\and 1392 1504 R0
SYMATTR InstName A33
TEXT -296 -256 Left 6 ;A
TEXT -304 224 Left 6 ;B
TEXT -88 -424 Left 7 ;REGISTERS
TEXT 1320 -376 Left 2 ;Sommatore a 2 bit
TEXT 3544 272 Left 6 ;R
TEXT -1168 -408 Left 2 !.tran 0 240u 60u
TEXT -1368 -296 Left 2 ;Delay iniziale delle onde quadre impostato a 100u di base
TEXT -1304 864 Left 2 ;Seletori di MODALITA'
TEXT 1248 -16 Left 2 ;Comparatore numeri uguali
TEXT 1168 24 Left 2 ;Ritorna 1 se MOD1 = 1 e i numeri sono uguali
TEXT 1200 472 Left 2 ;VALCARRY = 1 se MOD2 = 1 e il CarryOut = 1
TEXT 2200 -488 Left 5 ;SELEZIONE MODALITA'
TEXT 2200 -432 Left 3 ;Casi possibili:
TEXT 2200 -400 Left 2 ;- se tutti i selettori sono a 0 perchè MOD1 = 0 o MOD1 = 1 ma i numeri sono diversi o MOD2 = 1 ma non c'è riporto in uscita \n  allora salvo il valore precedente che c'è nel registro in uscita\n- se MOD0 = 1 allora salvo qualunque numero \n- se MOD1 = 1 e i numeri sono uguali VALCOMP = 1 allora salvo il valore in uscita dal sommatore\n- se MOD2 = 1 e c'è un riporto in uscita VALCARRY = 1 allora salvo il valore in uscita dal sommatore
TEXT 1096 1120 Left 5 ;GESTIONE STATI DI FAULT
TEXT 1112 1184 Left 2 ;Casi:\n- MOD3\n- RESET=1 && PRESET=1
TEXT -1312 472 Left 2 ;PRESET e RESET
TEXT -120 816 Left 2 ;Se PRESET = 1 e RESET = 1 allora vengono impostati P = 0 e R = 0
TEXT 3896 16 Left 6 ;REGISTER
TEXT 3528 144 Left 2 ;Contiene il valore in uscita dal sommatore sincrono
RECTANGLE Normal 868 150 -334 -306
RECTANGLE Normal 868 630 -334 174
RECTANGLE Normal 4672 592 3520 224
